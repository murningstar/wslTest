(function(){"use strict";var t={7445:function(t,e,o){var n=o(9242),s=o(3396);const a={class:"app"};function r(t,e,o,n,r,i){const l=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(l)])}var i={},l=o(89);const u=(0,l.Z)(i,[["render",r]]);var c=u;const d=["value"];function p(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("input",{onInput:e[0]||(e[0]=(...t)=>r.emitFunc&&r.emitFunc(...t)),value:o.modelValue,type:"text"},null,40,d)}var m={name:"custom-input",props:{modelValue:[String]},methods:{emitFunc(t){this.$emit("update:modelValue",t.target.value)}}};const v=(0,l.Z)(m,[["render",p],["__scopeId","data-v-a05b819c"]]);var h=v;function f(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("button",null,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var g={name:"custom-button"};const _=(0,l.Z)(g,[["render",f],["__scopeId","data-v-f4aaf86e"]]);var b=_;const w={class:"dialog__content"};function y(t,e,o,n,a,r){return!0===o.isModalOpen?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(...t)=>r.closeModal&&r.closeModal(...t)),class:"dialog"},[(0,s._)("div",w,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])])):(0,s.kq)("",!0)}var k={name:"custom-modal",props:{isModalOpen:{type:Boolean,default:!1}},methods:{closeModal(t){"dialog"==t.target.className&&this.$emit("update:isModalOpen",!1)}}};const D=(0,l.Z)(k,[["render",y],["__scopeId","data-v-785e6f99"]]);var O=D,P=o(7139);const C=["value"],x=(0,s._)("option",{disabled:"",value:""},"Сортировка по",-1),W=["value"];function I(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("select",{value:o.modelValue,onChange:e[0]||(e[0]=(...t)=>r.updatemethod&&r.updatemethod(...t)),name:"",id:""},[x,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.options,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.value},(0,P.zw)(t.text),9,W)))),128))],40,C)])}var V={name:"custom-select",props:{options:Array,modelValue:String},methods:{updatemethod(t){this.$emit("update:modelValue",t.target.value)}}};const M=(0,l.Z)(V,[["render",I]]);var $=M;const F={class:"pagination__container"},Z=["onClick"];function j(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",F,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.totalPages,(e=>((0,s.wg)(),(0,s.iD)("div",{class:(0,P.C_)(["pagination__item",{currentPage:o.currentPage==e}]),onClick:o=>t.$emit("pageChange",e)},(0,P.zw)(e),11,Z)))),256))])}var S={name:"custom-pagination",props:{totalPages:Number,currentPage:String}};const Y=(0,l.Z)(S,[["render",j]]);var L=Y;const U=t=>((0,s.dD)("data-v-13705b0a"),t=t(),(0,s.Cn)(),t),z={class:"navbar__container"},H=U((()=>(0,s._)("p",null,"baza",-1))),B=[H],T={class:"navbar__elem right"};function q(t,e,o,n,a,r){return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("div",{onClick:e[0]||(e[0]=e=>t.$router.push("/")),class:"navbar__elem logo button"},B),(0,s._)("div",T,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$router.push("/posts")),class:"links button"},"posts"),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$router.push("/about")),class:"links button"},"about")])])}var Q={components:{customButton:b},name:"shit-navbar"};const A=(0,l.Z)(Q,[["render",q],["__scopeId","data-v-13705b0a"]]);var E=A,K=[h,b,O,$,L,E],X=o(678);const N=(0,s._)("div",{class:"v-main"},[(0,s._)("h1",null,"Welcome gomik")],-1);function G(t,e,o,n,a,r){const i=(0,s.up)("shit-navbar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),N],64)}var J={};const R=(0,l.Z)(J,[["render",G]]);var tt=R;const et=t=>((0,s.dD)("data-v-17000d02"),t=t(),(0,s.Cn)(),t),ot={class:"posts"},nt=et((()=>(0,s._)("h1",null,"okay",-1))),st={class:"buttons"},at=(0,s.Uk)("Новый пост"),rt={key:0,class:"loading"},it={class:"obsParent"};function lt(t,e,o,n,a,r){const i=(0,s.up)("shit-navbar"),l=(0,s.up)("custom-input"),u=(0,s.up)("custom-button"),c=(0,s.up)("custom-select"),d=(0,s.up)("post-form"),p=(0,s.up)("custom-modal"),m=(0,s.up)("post-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s._)("div",ot,[nt,(0,s.Wm)(l,{modelValue:a.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=t=>a.searchQuery=t)},null,8,["modelValue"]),(0,s._)("div",st,[(0,s.Wm)(u,{class:"custom-button",onClick:r.openForm},{default:(0,s.w5)((()=>[at])),_:1},8,["onClick"]),(0,s.Wm)(c,{modelValue:a.selectedSort,"onUpdate:modelValue":e[1]||(e[1]=t=>a.selectedSort=t),options:a.sortOptions},null,8,["modelValue","options"])]),(0,s.Wm)(p,{isModalOpen:a.isFormOpen,"onUpdate:isModalOpen":e[2]||(e[2]=t=>a.isFormOpen=t)},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{onCreate:r.append},null,8,["onCreate"])])),_:1},8,["isModalOpen"]),a.isLoading?((0,s.wg)(),(0,s.iD)("p",rt," Загрузка постов... ")):((0,s.wg)(),(0,s.j4)(m,{key:1,posts:r.searchedInSorted,onDelete:r.removePost},null,8,["posts","onDelete"])),(0,s._)("div",it,[(0,s._)("div",{ref:"observer",class:"observer",style:(0,P.j5)({height:a.screenY+"px",width:a.screenX+"px"})},null,4)])])],64)}const ut=(0,s.Uk)("Post");function ct(t,e,o,a,r,i){const l=(0,s.up)("custom-input"),u=(0,s.up)("custom-button");return(0,s.wg)(),(0,s.iD)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)((()=>{}),["prevent"])),class:"postForm"},[(0,s.Wm)(l,{modelValue:r.inputTitle,"onUpdate:modelValue":e[0]||(e[0]=t=>r.inputTitle=t),type:"text"},null,8,["modelValue"]),(0,s.Wm)(l,{modelValue:r.inputBody,"onUpdate:modelValue":e[1]||(e[1]=t=>r.inputBody=t),type:"text"},null,8,["modelValue"]),(0,s.Wm)(u,{style:{margin:"0 auto"},onClick:i.appendPosts},{default:(0,s.w5)((()=>[ut])),_:1},8,["onClick"])],32)}var dt={props:{postz:[Array]},data(){return{inputTitle:"",inputBody:""}},methods:{appendPosts(){this.$emit("create",{id:Date.now(),title:this.inputTitle,body:this.inputBody}),this.inputTitle="",this.inputBody=""}}};const pt=(0,l.Z)(dt,[["render",ct],["__scopeId","data-v-9e209f6a"]]);var mt=pt;const vt=t=>((0,s.dD)("data-v-0c1aa6f4"),t=t(),(0,s.Cn)(),t),ht={key:0},ft={key:1},gt=vt((()=>(0,s._)("h2",null,"Постов либо нет, либо они не загрузились",-1))),_t=vt((()=>(0,s._)("p",null,"Если проблема во втором, то мы ее решаем прямо сейчас, просим прощения за предоставленные неудобства",-1))),bt=[gt,_t];function wt(t,e,o,n,a,r){const i=(0,s.up)("post-item");return o.posts.length>0?((0,s.wg)(),(0,s.iD)("div",ht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.posts,(e=>((0,s.wg)(),(0,s.j4)(i,{post:e,key:e.id,onDelete:o=>t.$emit("delete",e)},null,8,["post","onDelete"])))),128))])):((0,s.wg)(),(0,s.iD)("div",ft,bt))}const yt={class:"flex-cont"},kt={style:{"align-self":"center",display:"flex","margin-left":"15px"}},Dt=(0,s.Uk)("Открыть"),Ot=(0,s.Uk)("Удалить");function Pt(t,e,o,n,a,r){const i=(0,s.up)("custom-button");return(0,s.wg)(),(0,s.iD)("div",yt,[(0,s._)("div",null,[(0,s._)("p",null,(0,P.zw)(o.post.id),1),(0,s._)("h3",null,(0,P.zw)(o.post.title),1),(0,s._)("p",null,(0,P.zw)(o.post.body),1)]),(0,s._)("div",kt,[(0,s.Wm)(i,{onClick:e[0]||(e[0]=e=>t.$router.push(`/posts/${o.post.id}`))},{default:(0,s.w5)((()=>[Dt])),_:1}),(0,s.Wm)(i,{onClick:e[1]||(e[1]=e=>t.$emit("delete",o.post)),style:{"margin-left":"10px"}},{default:(0,s.w5)((()=>[Ot])),_:1})])])}var Ct={props:{post:[Object]}};const xt=(0,l.Z)(Ct,[["render",Pt],["__scopeId","data-v-7dc09edf"]]);var Wt=xt,It={components:{postItem:Wt},props:{posts:[Array]}};const Vt=(0,l.Z)(It,[["render",wt],["__scopeId","data-v-0c1aa6f4"]]);var Mt=Vt,$t=o(6265),Ft=o.n($t),Zt={components:{postForm:mt,postList:Mt},data(){return{posts:[],isFormOpen:!1,isLoading:!1,selectedSort:"id",sortOptions:[{text:"По названию",value:"title"},{text:"По ID",value:"id"}],searchQuery:"",totalPages:null,currentPage:1,counterForObserver:0,screenY:null,screenX:null}},methods:{append(t){this.posts.unshift(t),this.isFormOpen=!1,this.searchQuery=""},removePost(t){this.posts=this.posts.filter((e=>e.id!==t.id))},openForm(){this.isFormOpen=!0},async requestPosts(){this.isLoading=!0;let t=await Ft().get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:10,_page:this.currentPage}}),e=t.data;this.totalPages=Math.ceil(t.headers["x-total-count"]/10),this.posts=e,this.isLoading=!1},async requestMorePosts(){this.currentPage+=1;let t=await Ft().get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:10,_page:this.currentPage}}),e=t.data;this.totalPages=Math.ceil(t.headers["x-total-count"]/10),this.posts=this.posts.concat(e),this.isLoading=!1}},computed:{sortedPosts(){return[...this.posts].sort(((t,e)=>t[this.selectedSort]>e[this.selectedSort]))},searchedInSorted(){return this.sortedPosts.filter((t=>t.title.toLowerCase().includes(this.searchQuery.toLowerCase())))}},mounted(){this.screenY=window.innerHeight/2,this.screenX=document.documentElement.clientWidth-18,this.requestPosts().catch((t=>{this.isLoading=!1,console.log(t)}));let t={rootMargin:"0px",threshold:.5},e=new IntersectionObserver(((t,e)=>{console.log(t),!0===t[0].isIntersecting&&this.requestMorePosts()}),t);e.observe(this.$refs.observer)}};const jt=(0,l.Z)(Zt,[["render",lt],["__scopeId","data-v-17000d02"]]);var St=jt;const Yt=t=>((0,s.dD)("data-v-096910fa"),t=t(),(0,s.Cn)(),t),Lt=Yt((()=>(0,s._)("div",{class:"v-about"},[(0,s._)("p",null," about ")],-1)));function Ut(t,e,o,n,a,r){const i=(0,s.up)("shit-navbar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),Lt],64)}var zt={};const Ht=(0,l.Z)(zt,[["render",Ut],["__scopeId","data-v-096910fa"]]);var Bt=Ht;function Tt(t,e,o,n,a,r){const i=(0,s.up)("shit-navbar");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i),(0,s._)("div",null,[(0,s._)("h1",null,"id этого поста = "+(0,P.zw)(t.$route.params.id),1)])],64)}var qt={};const Qt=(0,l.Z)(qt,[["render",Tt]]);var At=Qt;let Et=[{path:"/",component:tt},{path:"/posts",component:St},{path:"/about",component:Bt},{path:"/posts/:id",component:At}],Kt=(0,X.p7)({routes:Et,history:(0,X.PO)()});var Xt=Kt;const Nt=(0,n.ri)(c);K.forEach((t=>Nt.component(t.name,t))),Nt.use(Xt).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,a){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],s=t[c][1],a=t[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<r&&(r=a));if(i){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,s,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,r=n[0],i=n[1],l=n[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var c=l(o)}for(e&&e(n);u<r.length;u++)a=r[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(c)},n=self["webpackChunkvueebem"]=self["webpackChunkvueebem"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7445)}));n=o.O(n)})();
//# sourceMappingURL=app.a315cc3e.js.map